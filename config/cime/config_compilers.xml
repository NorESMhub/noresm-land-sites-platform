<?xml version="1.0"?>
<config_compilers version="2.0">
   <!-- customize these fields as appropriate for your
        system. Examples are prodived for Mac OS X systems with
        homebrew and macports. -->

<compiler COMPILER="gnu" MACH="centos7-nrec">
     <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
     <CPPDEFS>
       <append MODEL="gptl"> -DHAVE_VPRINTF -DHAVE_GETTIMEOFDAY -DHAVE_BACKTRACE </append>
     </CPPDEFS>
     <FFLAGS>
       <append DEBUG="FALSE"> </append>
       <append DEBUG="TRUE"> -g -fbacktrace -fbounds-check -ffpe-trap=invalid,zero,overflow</append>
     </FFLAGS>
     <SLIBS>
       <append> -L$ENV{HDF5_HOME}/lib -lhdf5_fortran -lhdf5 -lhdf5_hl -lhdf5hl_fortran </append>
       <append> -L$ENV{NETCDF_PATH}/lib/ -lnetcdff -lnetcdf -lcurl -lblas -llapack </append>
     </SLIBS>  
     <SCC MPILIB="mpi-serial">gcc</SCC>
     <SFC MPILIB="mpi-serial">gfortran</SFC>
</compiler>
   
<compiler MACH="container-nlp">
  <CPPDEFS>
    <!-- these flags enable nano timers -->
    <append MODEL="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_VPRINTF -DHAVE_BACKTRACE -DHAVE_SLASHPROC -DHAVE_COMM_F2C -DHAVE_TIMES -DHAVE_GETTIMEOFDAY </append>
  </CPPDEFS>
  <NETCDF_PATH>/usr/local</NETCDF_PATH>
  <PNETCDF_PATH>/usr/local</PNETCDF_PATH>
  <LDFLAGS>
  </LDFLAGS>
  <SLIBS>
    <append> -lnetcdf -lnetcdff -llapack -lblas </append>
  </SLIBS>
</compiler>
   
   <compiler MACH="fram">
  <CPPDEFS>
   <append> -D$(OS) </append>
  </CPPDEFS>
  <FFLAGS>
   <append> -xCORE-AVX2 </append>
  </FFLAGS>
  <NETCDF_PATH>$(EBROOTNETCDFMINFORTRAN)</NETCDF_PATH>
  <PNETCDF_PATH>$(EBROOTPNETCDF)</PNETCDF_PATH>
  <MPI_PATH>$(MPI_ROOT)</MPI_PATH>
  <MPI_LIB_NAME>mpi</MPI_LIB_NAME>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append MODEL="micom"> -r8 </append>
    <append MODEL="cam"> -init=zero,arrays </append>
  </FFLAGS>
  <MPICC> mpiicc </MPICC>
  <MPICXX> mpiicpc </MPICXX>
  <MPIFC> mpiifort </MPIFC>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <append>-mkl=sequential -lnetcdff -lnetcdf</append>
  </SLIBS>
</compiler>

 <compiler MACH="saga">
    <CPPDEFS>
     <append> -D$(OS) </append>
    </CPPDEFS>
    <FFLAGS>
     <append> -xCORE-AVX2 -no-fma </append>
    </FFLAGS>
    <NETCDF_PATH>$(EBROOTNETCDFMINFORTRAN)</NETCDF_PATH>
    <PNETCDF_PATH>$(EBROOTPNETCDF)</PNETCDF_PATH>
    <MPI_PATH>$(MPI_ROOT)</MPI_PATH>
    <MPI_LIB_NAME>mpi</MPI_LIB_NAME>
    <FFLAGS>
      <append DEBUG="FALSE"> -O2 </append>
      <append MODEL="micom"> -r8 </append>
      <append MODEL="cam"> -init=zero,arrays </append>
    </FFLAGS>
    <MPICC> mpiicc </MPICC>
    <MPICXX> mpiicpc </MPICXX>
    <MPIFC> mpiifort </MPIFC>
    <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
    <SLIBS>
      <append>-mkl=sequential -lnetcdff -lnetcdf</append>
    </SLIBS>
  </compiler>

</config_compilers>
