<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://noresmhub.github.io/NorESM_LandSites_Platform/docker/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Docker setup - NorESM_LandSites_Platform documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../stylesheets/map.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Docker setup";
    var mkdocs_page_input_path = "docker.md";
    var mkdocs_page_url = "/NorESM_LandSites_Platform/docker/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> NorESM_LandSites_Platform documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../land-sites/">NorESM land sites</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../user_guide/">User guide</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing & code of conduct</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">NorESM_LandSites_Platform documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Docker setup</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="docker-setup">Docker setup</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Install <a href="https://docs.docker.com/get-docker/">Docker</a> for your operating system.</li>
<li>Run <code>docker pull lassetk/noresm_land_sites_platform:latest</code> to pull the image to your local storage.</li>
</ul>
<h2 id="setup-the-container">Setup the container</h2>
<p>All the setup we need for running the container are in <a href="../docker-compose.yml">docker-compose.yml</a>. Feel free so edit memory and CPU constrains depending on your available resources.</p>
<p>File mapping between the container and the host is defined in th <code>volumes:</code> block. By default, only <code>data</code> directory is mapped.</p>
<h2 id="run">Run</h2>
<p>To run the container, first be sure you are in the main directory containing <a href="../docker-compose.yml">docker-compose.yml</a>. Then run following command</p>
<pre><code class="language-bash">docker-compose up
</code></pre>
<p>Once the process is running you can access <strong>make_settings</strong> app at <a href="localhost:5006">localhost:5006</a> and jupyter notebook environment is accessible at <a href="localhost:8888">localhost:8888</a> with password: <code>pass</code></p>
<p>To stop the container running press <code>Ctrl+c</code></p>
<h1 id="build-the-container">Build the container</h1>
<p>Once you'd like to test new changes to the setup, you'll need to rebuild the container. To do this, ensure you are in the root directory of the repository and run:</p>
<pre><code class="language-bash">docker build . -t &lt;TAG&gt;:&lt;VERSION&gt;
</code></pre>
<ul>
<li>Replace <strong>\&lt;TAG></strong> with your repository name on <a href="https://hub.docker.com/">DockerHub</a></li>
<li>Replace <strong>\&lt;VERSION></strong> with any string that you'd like to distinguish your version. By convention <code>latest</code> is used to specify latest working version.</li>
</ul>
<p>After the build process is finished, you should push the new image to the repository. Firstly ensure you are logged in by:</p>
<pre><code class="language-bash">docker login
</code></pre>
<p>Consequently push the image:</p>
<pre><code class="language-bash">docker push &lt;TAG&gt;:&lt;VERSION&gt;
</code></pre>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../javascripts/map.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
