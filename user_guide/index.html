<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://noresmhub.github.io/NorESM_LandSites_Platform/user_guide/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>User guide - NorESM_LandSites_Platform documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../stylesheets/map.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "User guide";
    var mkdocs_page_input_path = "user_guide.md";
    var mkdocs_page_url = "/NorESM_LandSites_Platform/user_guide/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> NorESM_LandSites_Platform documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../land-sites/">NorESM land sites</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">User guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#tldr-quick-start">TL;DR quick start ğŸƒâ€â™€ï¸ğŸƒâ€â™‚ï¸</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing & code of conduct</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">NorESM_LandSites_Platform documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>User guide</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="user-guide">User guide</h1>
<p><em>under construction</em></p>
<p>This is the user guide for running point simulations with the <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/">NorESM LandSites Platform</a> :earth_africa: </p>
<p>You will need to open two new windows in the process, so it's a good idea to use two screens or make this window narrower so you can see both the user guide and another window next to it.</p>
<hr />
<h2 id="tldr-quick-start">TL;DR quick start ğŸƒâ€â™€ï¸ğŸƒâ€â™‚ï¸</h2>
<p>go to repository: </p>
<pre><code>$ cd NorESM_LandSites_platform
</code></pre>
<p>start the Docker container: </p>
<pre><code>$ docker-compose up
</code></pre>
<p>go to container: <localhost:8888> password = pass</p>
<p>open New Terminal and run commands:</p>
<pre><code>$ cd landsites_tools/simulation
$ python make_cases.py

$ python run_cases.py
</code></pre>
<p>access output in data/output ğŸ‰</p>
<hr />
<h1 id="step-by-step-guide-for-using-the-platform">Step by step guide for using the platform</h1>
<h3 id="0-prerequisites-first-time-setup">0. Prerequisites (first time setup) ğŸŒ±</h3>
<p>To use the NorESM LandSites Platform, you need to install </p>
<ul>
<li><a href="https://git-scm.com/downloads" title="click the pc screen button if you are on Windows">Git</a> and </li>
<li><a href="https://www.docker.com/products/docker-desktop">Docker desktop</a> </li>
</ul>
<p>before you can clone the <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform" title="repository for the NorESM LandSites platform">repository</a> (= download platform scripts) and start working with the Docker container. On your computer, </p>
<p>Open file explorer and find a suitable folder to serve as working directory. This is where you will store the repository and ~2(?)GB needed by the platform, as well as your output files (which may take up quite a bit more space!). Your working directory should be somewhere on your C: drive, for instance <code>C:/Users/yourusername</code>, and it should <em>not</em> be e.g. on OneDrive or shared servers or System32. 
When you are in your chosen working directory, right-click and choose "Git Bash here". In the terminal that pops up, paste in the following line by right-clicking:</p>
<pre><code>$ git clone https://github.com/NorESMhub/NorESM_LandSites_Platform.git
</code></pre>
<p>This will download (= clone) the repository (= folder structure and files) to your working directory. You can now see the folder and files in your file explorer. Most of the files can be opened in a text editor like Notepad if you want to look at their contents. </p>
<p>Once Git, Docker desktop and the repository are in place, you don't have to do this again. If the platform is updated the next time you want to use it, you probably want to update the repository by typing <code>git pull</code> into Git Bash from your local clone of the repository. </p>
<h3 id="1-start-the-container">1. Start the container ğŸ§°</h3>
<p>In the working directory where you have cloned the repository, open a terminal by right-clicking and choosing "Git Bash here". Make sure you are in the folder containing the <code>docker-compose.yml</code> file (type <code>ls</code> and hit enter to list the files in the current folder). Then write this command and hit enter to get the container up and running:</p>
<pre><code>$ docker-compose up
</code></pre>
<p>This will download some files and give you this address to access the container through your browser. 
To set custom simulation settings, start by going to <a href="http://localhost:5006/make_settings">http://localhost:5006/make_settings</a>, 
or, if you want to skip that step, you can go directly to <localhost:8888> and use the password: pass.</p>
<p style="color:d0d0d0">To stop the container running press Ctrl+c (in Git Bash).</p>

<h3 id="2-set-simulation-settings">2. Set simulation settings âš™ï¸</h3>
<p>If you are doing a quick test with <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#settings-file">default platform settings</a>, you can skip this step and go straight to <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/user_guide/#run-your-simulations">3. running your simulations</a>.  </p>
<p>To set custom <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#settings-file">simulation settings</a>, start by going to <a href="http://localhost:5006/make_settings">http://localhost:5006/make_settings</a> in your browser. The page is quite self-explanatory and produces a new settings file that will be used to make <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#make_casespy" title="case= an instance of the model">cases</a> that you can run. The different options are explained further in our <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#settings-file">documentation</a>.</p>
<p>(This step can also be done from a terminal by using make_cases.py interactively with the <code>-i</code> flag. -- see <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform/main/landsites_tools/simulation/README.md" title="how to use make_cases interactively">this guide</a>)</p>
<h3 id="3-run-your-simulations">3. Run your simulations ğŸ‘¨â€ğŸ’» ğŸ‘©â€ğŸ’»</h3>
<p>Go to the container in your browser: <localhost:8888> and use the password: pass to enter the container. You will see a lot of files and folders (= the GitHub repository contents). Navigate to the <code>notebooks</code> folder and open the one called <code>run_simulations</code>. It's an interactive Jupyter notebook where you can execute code in cells by clicking the  play/run buttons next to them, and see the output directly below the cell. </p>
<p style="color:d0d0d0">Alternatively, you can start a terminal in the container and execute these commands there:

    $ cd landsites_tools/simulation
    $ python make_cases.py
    $ python run_cases.py

</p>

<p>You are now running the model! Depending on your settings and machine hardware, making the case(s) and running the simulations might take some time to complete. â³</p>
<p>If you got an error message somewhere along the way, please head over to our GitHub and write an <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform/issues/new">issue</a> describing what happened, what machine you are on (mac/windows/HPC etc.), and copy in the error message. </p>
<p>Output will be stored at time intervals set by the settings file (default = monthly) in the <code>data/output</code> folder. ğŸ‰
From there you can download them to your local computer, or continue working with them inside the container.</p>
<p>To stop the container once the simulations are complete (but not before!), go back to Git Bash and press Ctrl+c.</p>
<h3 id="4-look-at-your-output">4. Look at your output ğŸ“ˆ</h3>
<p>Output is stored in the <code>data/output</code> folder. </p>
<p>An example of how you can visualize it with python is provided in the <code>plot_example.ipynb</code> Jupyter notebook insite the <code>notebooks</code> folder. You can execute this notebook directly in the container in the same way as the <code>run_simulations</code> notebook. </p>
<p><a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#postprocess">Output files</a> can alternatively be opened in Panoply, R, or using python on your local computer.</p>
<p style="color:green">ğŸŒ² ____ ğŸŒ³ ____ ğŸŒ² ____ ğŸŒ³ ____ ğŸŒ² ____ ğŸŒ³ ____ ğŸŒ² ____ ğŸŒ³ ____ ğŸŒ²</p>

<hr />
<p><a href="https://www.noresm.org/"><img alt="NorESM logo" src="https://tinyimg.io/i/9AdhM6J.png" title="the Norwegian Earth System Model" /></a>
<a href="https://www.mn.uio.no/geo/english/research/projects/emerald/"><img alt="EMERALD logo" src="https://tinyimg.io/i/O6Vkl1F.png" title="EMERALD project" /></a>
<a href="https://www.mn.uio.no/geo/english/research/groups/latice/"><img alt="LATICE logo" src="https://tinyimg.io/i/4IM1ogh.png" title="Land-ATmosphere Interactions in Cold Environments research group" /></a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../about/" class="btn btn-neutral float-right" title="About">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../land-sites/" class="btn btn-neutral" title="NorESM land sites"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../land-sites/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../about/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../javascripts/map.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
